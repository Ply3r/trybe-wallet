(this.webpackJsonptrybewallet=this.webpackJsonptrybewallet||[]).push([[0],{24:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),o=a(10),i=a(1),u=a(3),s=Object(n.createContext)(),m=(a(29),function(){var e=Object(n.useContext)(s).setEmail,t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],E=m[1],b=Object(n.useState)(!0),p=Object(u.a)(b,2),f=p[0],v=p[1];return Object(n.useEffect)((function(){/^[\w\d]*@[\w\d]*.[\w]{2,3}$/i.test(c)&&d.length>=6?v(!1):v(!0)}),[c,d]),r.a.createElement("div",{className:"page-login"},r.a.createElement("div",{className:"backgroud-image"}),r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"TrybeWallet"),r.a.createElement("input",{value:c,onChange:function(e){var t=e.target.value;return l(t)},"data-testid":"email-input",placeholder:"Email..."}),r.a.createElement("input",{type:"password",value:d,onChange:function(e){var t=e.target.value;return E(t)},"data-testid":"password-input",placeholder:"Senha..."}),r.a.createElement(o.b,{to:"/carteira"},r.a.createElement("button",{onClick:function(){e(c)},disabled:f,type:"button"},"Entrar")))))}),d=a(8),E=a.n(d),b=a(13),p=a(6),f=function(){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(e){return e}))},v={user:{email:""},wallet:{currencies:[],expenses:[]},isEditing:!1,id:""},h=function(){var e=Object(n.useState)(v),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),l=Object(u.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)(a.isEditing),m=Object(u.a)(s,2),d=m[0],h=m[1],g=Object(n.useState)(a.wallet.expenses),j=Object(u.a)(g,2),O=j[0],x=j[1],C=Object(n.useState)(a.id),w=Object(u.a)(C,2),y=w[0],N=w[1],S=function(){var e=Object(b.a)(E.a.mark((function e(){var t,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,n=(n=Object.keys(t)).filter((function(e){return"USDT"!==e})),c=Object(p.a)(Object(p.a)({},a),{},{wallet:Object(p.a)(Object(p.a)({},a.wallet),{},{currencies:n})}),r(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(S,[]),Object(n.useEffect)((function(){var e=Object(p.a)(Object(p.a)({},a),{},{user:{email:o}});r(e)}),[o]),Object(n.useEffect)((function(){var e=Object(p.a)(Object(p.a)({},a),{},{wallet:Object(p.a)(Object(p.a)({},a.wallet),{},{expenses:O})});r(e)}),[O]),Object(n.useEffect)((function(){var e=Object(p.a)(Object(p.a)({},a),{},{isEditing:d,id:y});r(e)}),[d]),{email:a.user.email,setEmail:i,currencies:a.wallet.currencies,expenses:O,setExpenses:x,setIsEditing:h,isEditing:d,id:y,setId:N}},g=function(e){var t=e.children,a=h(),n=a.email,c=a.currencies,l=a.expenses,o=a.isEditing,i=a.id,u=a.setEmail,m={email:n,currencies:c,expenses:l,isEditing:o,id:i,setExpenses:a.setExpenses,setIsEditing:a.setIsEditing,setId:a.setId,setEmail:u};return r.a.createElement(s.Provider,{value:m},t)},j=function(){var e=Object(n.useContext)(s),t=e.email,a=e.expenses,c=0;a.length&&(c=a.reduce((function(e,t){var a=t.value,n=t.currency,r=t.exchangeRates[n].ask;return Number(a)*Number(r)+e}),0));return console.log(a),r.a.createElement("header",null,r.a.createElement("div",{className:"logo-header"},r.a.createElement("h1",null,"TrybeWallet")),r.a.createElement("div",{className:"information-header"},r.a.createElement("p",null,"Email: ".concat(t)),r.a.createElement("p",null,"Despesas total ".concat(c.toFixed(2)," BRL"))))},O=a(19),x=function(e){var t=e.valor,a=e.setValor,n=e.descricao,c=e.setDescricao;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"valor"},"Valor:",r.a.createElement("input",{id:"valor",type:"number",className:"valor-input",value:t,autoComplete:"off",onChange:function(e){var t=e.target.value;return a(t)}})),r.a.createElement("label",{htmlFor:"descricao"},"Descri\xe7\xe3o:",r.a.createElement("input",{id:"descricao",className:"descricao-input",autoComplete:"off",value:n,onChange:function(e){var t=e.target.value;return c(t)}})))},C=function(e){var t=e.moeda,a=e.setMoeda,n=e.options,c=e.metodo,l=e.setMetodo,o=e.tag,i=e.setTag;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"moeda"},"Moeda",r.a.createElement("select",{value:t,onChange:function(e){var t=e.target.value;return a(t)},id:"moeda"},n)),r.a.createElement("label",{htmlFor:"metodo"},"Metodo de Pagamento:",r.a.createElement("select",{value:c,onChange:function(e){var t=e.target.value;return l(t)},id:"metodo"},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de Credito"},"Cart\xe3o de Credito"),r.a.createElement("option",{value:"Cart\xe3o de Debito"},"Cart\xe3o de Debito"))),r.a.createElement("label",{htmlFor:"tag"},"Tag",r.a.createElement("select",{value:o,onChange:function(e){var t=e.target.value;return i(t)},id:"tag"},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))))},w=function(e){var t=e.expense,a=t.description,c=t.value,l=t.method,o=t.tag,i=t.currency,m=Object(n.useContext)(s),d=m.id,p=m.currencies,v=m.expenses,h=m.setExpenses,g=m.isEditing,j=m.setIsEditing,w=Object(n.useState)(c),y=Object(u.a)(w,2),N=y[0],S=y[1],k=Object(n.useState)(a),D=Object(u.a)(k,2),F=D[0],T=D[1],I=Object(n.useState)(i),M=Object(u.a)(I,2),R=M[0],A=M[1],V=Object(n.useState)(l),P=Object(u.a)(V,2),U=P[0],z=P[1],B=Object(n.useState)(o),L=Object(u.a)(B,2),J=L[0],W=L[1],$=p.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})),q=function(){var e=Object(b.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,a={id:v.length,value:N,description:F,currency:R,method:U,tag:J,exchangeRates:t},S(""),T(""),A("USD"),z("Dinheiro"),W("Alimenta\xe7\xe3o"),h([].concat(Object(O.a)(v),[a]));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.filter((function(e){return e.id!==d})),e.next=3,f();case 3:a=e.sent,n={id:v.length,value:N,description:F,currency:R,method:U,tag:J,exchangeRates:a},h([].concat(Object(O.a)(t),[n])),j(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"form"},r.a.createElement(x,{valor:N,setValor:S,descricao:F,setDescricao:T}),r.a.createElement(C,{moeda:R,setMoeda:A,options:$,metodo:U,setMetodo:z,tag:J,setTag:W}),g?r.a.createElement("button",{type:"button",onClick:G},"Editar Despesas"):r.a.createElement("button",{type:"button",onClick:q},"Adicionar Despesas"))},y=w;w.defaultProps={expense:{value:"",description:"",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",currency:"USD"}};var N=function(){var e=Object(n.useContext)(s),t=e.expenses,a=e.id,c=t.find((function(e){return e.id===a}));return r.a.createElement(y,{expense:c})},S=a(18),k=function(){var e=Object(n.useContext)(s),t=e.expenses,a=e.setExpenses,c=e.setIsEditing,l=e.setId;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"Metodo de Pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"Cambio Utilizado"),r.a.createElement("th",null,"Valor Convertido"),r.a.createElement("th",null,"Moeda de Convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,!!t.length&&t.map((function(e){var n=e.id,o=e.description,i=e.tag,u=e.method,s=e.value,m=e.currency,d=e.exchangeRates[m];return r.a.createElement("tr",{key:n},r.a.createElement("td",null,o),r.a.createElement("td",{className:"white-table"},i),r.a.createElement("td",null,u),r.a.createElement("td",{className:"white-table"},Number(s).toFixed(2)),r.a.createElement("td",null,d.name.replace("/Real Brasileiro","")),r.a.createElement("td",{className:"white-table"},Number(d.ask).toFixed(2)),r.a.createElement("td",null,(Number(d.ask)*Number(s)).toFixed(2)),r.a.createElement("td",{className:"white-table"},"Real"),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return function(e){c(!0),l(e)}(n)},type:"button",className:"table-bot edit"},r.a.createElement(S.a,null)),r.a.createElement("button",{onClick:function(){return function(e){var n=t.filter((function(t){return t.id!==e}));a(n)}(n)},type:"button",className:"table-bot delete"},r.a.createElement(S.b,null))))}))))},D=(a(36),function(){var e=Object(n.useContext)(s).isEditing;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null),e?r.a.createElement(N,null):r.a.createElement(y,null),r.a.createElement(k,null))});var F=function(){return r.a.createElement(g,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:m}),r.a.createElement(i.a,{path:"/carteira",component:D})))};a(37);l.a.render(r.a.createElement(o.a,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.bcb9d825.chunk.js.map